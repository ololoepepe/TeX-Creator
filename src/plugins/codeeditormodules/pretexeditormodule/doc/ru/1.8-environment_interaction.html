<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Взаимодействие с окружающей средой</title>
[Назад: <a href="../ru/1.7-trigonometric_functions.html">1.7. Тригонометрические и гиперболические функции</a>]
[Далее: <a href="../ru/1.9-stack.html">1.9. Стек выполнения</a>]
<br><br>
<center><font size=5><b>Взаимодействие с окружающей средой</b></font></center>
<br><br>
<b>\insert</b>{<i>value</i>}
<br>
Вставляет в текущий документ значение <i>value</i>. Значение преобразуется в строку. Возвращает вставленный текст.
<br><br>
<b>\find</b>{<i>value</i>}[<i>options</i>]
<br>
Находит и выделяет в текущем документе занчение <i>value</i>. Параметр <i>options</i> должен быть строкой и состоять из
одного или нескольких параметров, соединенных знаком &quot;+&quot;. Параметры:
<br>
<i>cs</i>, <i>case-sensitive</i> либо <i>ci</i>, <i>case-insensitive</i> - чувствительность к регистру (по умолчанию
поиск не чувствителен к регистру).
<br>
<i>w</i>, <i>words</i> - поиск только слов целиком (по умолчанию выключено).
<br>
<i>bw</i>, <i>backward</i>, либо <i>fw</i>, <i>forward</i> - поиск в прямом или обратном напрвалении (по умолчанию в
прямом).
<br>
<i>c</i>, <i>cyclic</i>, либо <i>nc</i>, <i>non-cyclic</i> - цикличность поиска, возвращение к началу документа по
достижении конца (по умолчанию включено).
<br>
Если значение <i>options</i> содержит опции, не перечисленные выше, или содержит несколько одинаковых опций, вызывется
ошибка. Функция возвращает 1, если текст найден и 0, если не найден.
<br><br>
<b>\replace</b>{<i>oldValue</i>}{<i>newValue</i>}[<i>options</i>][<i>scope</i>]
<br>
Заменяет текст <i>oldValue</i> на <i>newValue</i>. Параметр <i>options</i> должен быть строкой и иметь одно из
значений: <i>cs</i>, <i>case-sensitive</i> либо <i>ci</i>, <i>case-insensitive</i> - чувствительность к регистру (по
умолчанию поиск не чувствителен к регистру).
<br>
По умолчанию замена происходит по всему документу. Если задан параметр <i>scope</i>, то замена может производиться по
документу, либо в пределах выделенного текста, в зависимости от значения <i>scope</i>. Параметр <i>scope</i> должен
быть строкой и принимать одно из следующих значений: <i>s</i>, <i>sel</i>, <i>selection</i>, либо <i>d</i>, <i>doc</i>,
<i>document</i>. В противном случае вызывается ошибка. Функция возвращает количество замененных вхождений
<i>oldValue</i>.
<br><br>
<b>\press</b>{<i>sequence</i>}[<i>count</i>]
<br>
Посылает текущему документу сочетание клавиш <i>sequence</i>. Параметр <i>sequence</i> должен иметь строковый тип. В
противном случае вызывается ошибка. Если задан параметр <i>count</i>, то нажатия клавиш посылаются столько раз, сколько
указано в этом параметре. Значение <i>count</i> должно иметь целочисленный тип и быть больше нуля. В противном случае
вызывается ошибка. Значение <i>sequence</i> может содержать от одного до четырех сочетаний клавиш, разделенных
запятыми. Например: &quot;Left&quot; &quot;Shift+Right,Backspace&quot;. Возвращает 1.
<br><br>
<b>\showMessage</b>{<i>message</i>}[<i>icon</i>][<i>title</i>]
<br>
Выводит сообщение <i>message</i> в отдельном окне. Если задан параметр <i>icon</i>, окну присваивается соответствующая
иконка из фиксированного набора:
<br>
<i>noicon</i> - без иконки.
<br>
<i>question</i> - символ вопросительного знака.
<br>
<i>information</i> - восклицательный знак на синем фоне.
<br>
<i>warning</i> - восклицательный знак в оранжевом треугольнике.
<br>
<i>critical</i> - знак &quot;стоп&quot;.
<br>
Значение параметра <i>icon</i> должно быть строкой и содержать перечисленный выше текст (либо один или более первых
символов). В противном случае вызывается ошибка. Если задан параметр <i>title</i>, то заголовку окна будет присвоено
соответствующее значение. Функция возвращает пустое значение.
<br><br>
<b>\getInput</b>{<i>type</i>}[<i>label</i>][<i>title</i>]
<br>
Запрашивает у пользователя ввод значение типа <i>type</i> в отдельном окне. Если задан параметр <i>label</i>, перед
полем вводу будет показан соответствующий текст. Если задан параметр <i>title</i>, то заголовку окна будет присвоено
соответствующее значение. Допустимые типы:
<br>
<i>text</i>, <i>string</i> - ввод текста.
<br>
<i>integer</i> - ввод целого числа.
<br>
<i>real</i> - ввод действительного числа.
<br>
Значение параметра <i>type</i> должно быть строкой и содержать перечисленный выше текст (либо один или более первых
символов). В противном случае вызывается ошибка. Функция возвращает введенное пользователем значение. Если пользователь
отменил ввод, будет возвращено соответствующее значение по умолчанию для заданного типа (0 или пустая строка).
<br><br>
<b>\readFile</b>{<i>fileName</i>}[<i>encoding</i>]
<br>
Считывает текстовый файл <i>fileName</i> и возвращает его содержимое. Значение <i>fileName</i> должно быть строкой. В
противном случае вызывается ошибка. Если указано только имя файла без пути (или с частью пути), то остальной путь
выбирается исходя из пути текущего документа (если он сохранен на диске). Если файл считать не удалось, вызывается
ошибка.
<br>
По умолчанию кодировка файла определяется автоматически. Если задан параметр <i>encoding</i>, то файл читается в
соответствующей кодировке. Значение <i>encoding</i> должно быть строкой. В противном случае возвращается ошибка.
<br><br>
<b>\run</b>{<i>command</i>}[<i>argumentN</i>][...]
<br>
Запускает внешнюю программу <i>command</i> с параметрами <i>argumentN</i> (если они имеются). Рабочая папка
устанавливается равной той папке, где находится текущий документ (если он сохранен на диске). Функция дожидается
завершения выполнения команды (не более 5 минут). Возвращается стандартный вывод запущенной программы.
<br><br>
<b>\runDetached</b>{<i>command</i>}[<i>argumentN</i>][...]
<br>
Запускает внешнюю программу <i>command</i> с параметрами <i>argumentN</i> (если они имеются). Рабочая папка
устанавливается равной той папке, где находится текущий документ (если он сохранен на диске). Функция возвращает 1,
если запуск прошел удачно, и 0, если запустить программу не удалось. После запуска интерпретатор PreTeX продолжает
работу, не дожидаясь завершения запущенной программы.
<br><br>
[Назад: <a href="../ru/1.7-trigonometric_functions.html">1.7. Тригонометрические и гиперболические функции</a>]
[Далее: <a href="../ru/1.9-stack.html">1.9. Стек выполнения</a>]
